"use strict";(self.webpackChunkvisitorsys=self.webpackChunkvisitorsys||[]).push([[182],{5182:(_,s,r)=>{r.r(s),r.d(s,{AgencyComponent:()=>h});var i=r(6814),a=r(95),e=r(4946);let g=(()=>{class u{transform(t,o){return t.filter(n=>n.AgencyName.toLowerCase().includes(o.toLowerCase()))}static#e=this.\u0275fac=function(o){return new(o||u)};static#t=this.\u0275pipe=e.Yjl({name:"search",type:u,pure:!0,standalone:!0})}return u})();var m=r(3380),A=r(4670),y=r(2425);function p(u,d){if(1&u){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"th"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.cli(l.Id))}),e._uU(8,"\u062a\u0639\u062f\u064a\u0644 "),e._UZ(9,"i",23),e.qZA()(),e.TgZ(10,"td")(11,"button",24),e._uU(12,"\u0639\u0631\u0636 "),e._UZ(13,"i",25),e.qZA()()(),e.TgZ(14,"div",26)(15,"div",27)(16,"div",28)(17,"div",29),e._UZ(18,"h1",30)(19,"button",31),e.qZA(),e.TgZ(20,"div",32)(21,"form",1),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.handleFormUpdate())}),e.TgZ(22,"div",4)(23,"label",33),e._uU(24,"\u0627\u0633\u0645 \u0627\u0644\u062c\u0647\u0629"),e.qZA(),e._UZ(25,"input",34),e.qZA(),e.TgZ(26,"div",4)(27,"label",33),e._uU(28,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.qZA(),e._UZ(29,"input",35),e.qZA(),e.TgZ(30,"div",4),e._UZ(31,"input",36),e.qZA(),e.TgZ(32,"div",37)(33,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.cler())}),e._uU(34,"\u0627\u063a\u0644\u0627\u0642"),e.qZA(),e.TgZ(35,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.patchName())}),e._uU(36,"\u062a\u0639\u062f\u064a\u0644"),e.qZA()()()()()()(),e.TgZ(37,"div",26)(38,"div",27)(39,"div",28)(40,"div",29),e._UZ(41,"h1",30)(42,"button",31),e.qZA(),e.TgZ(43,"div",32)(44,"form")(45,"div",4)(46,"label",40),e._uU(47,"\u0627\u0633\u0645 \u0627\u0644\u062c\u0647\u0629"),e.qZA(),e._UZ(48,"input",41),e.qZA()()(),e.TgZ(49,"div",37)(50,"button",42),e._uU(51,"\u0627\u063a\u0644\u0627\u0642"),e.qZA()()()()()()}if(2&u){const t=d.$implicit,o=d.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(2),e.Oqu(t.AgencyName),e.xp6(2),e.uIk("data-bs-target","#UpdateModal-"+t.Id),e.xp6(4),e.uIk("data-bs-target","#ViewModal-"+t.Id),e.xp6(3),e.Q6J("id","UpdateModal-"+t.Id),e.xp6(7),e.Q6J("formGroup",n.AgencyFormUpdata),e.xp6(4),e.Q6J("value",t.AgencyName)("placeholder",t.AgencyName),e.xp6(6),e.Q6J("value",n.AgencyID)("placeholder",n.AgencyID),e.xp6(4),e.Q6J("disabled",n.AgencyFormUpdata.invalid),e.xp6(2),e.Q6J("id","ViewModal-"+t.Id),e.xp6(11),e.Q6J("value",t.AgencyName)}}function b(u,d){if(1&u&&(e.TgZ(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",20),e._uU(6,"\u0627\u0633\u0645 \u0627\u0644\u062c\u0647\u0629"),e.qZA(),e.TgZ(7,"th",20),e._uU(8,"\u062a\u0639\u062f\u064a\u0644"),e.qZA(),e.TgZ(9,"th",20),e._uU(10,"\u0639\u0631\u0636"),e.qZA()()(),e.YNc(11,p,52,13,"tbody",21),e.ALo(12,"search"),e.qZA()),2&u){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",e.xi3(12,1,t.Agency,t.term))}}let h=(()=>{class u{constructor(t,o,n,l){this._AgencyService=t,this._FormBuilder=o,this._Router=n,this._ToastrService=l,this.Agency=[],this.update={},this.term="",this.AgencyID="",this.AgencyFormAdd=this._FormBuilder.group({UserId:["",[a.kI.required]],AgencyName:["",[a.kI.required]]}),this.AgencyFormUpdata=this._FormBuilder.group({agencyName:["",[a.kI.required]],userId:["10"],id:[this.AgencyID]})}cli(t){console.log(this.AgencyID=t)}patchName(){this.AgencyFormUpdata.get("id")?.setValue(this.AgencyID)}ngOnInit(){this.getAllAgency()}getAllAgency(){this._AgencyService.GetAllAgency().subscribe({next:t=>{console.log(t),this.Agency=t},error:t=>{console.log(t),this._ToastrService.error("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0646\u0641\u064a\u0630!!")}})}handleFormAdd(){this._AgencyService.AddAgency(this.AgencyFormAdd.value).subscribe({next:o=>{console.log(o),this._ToastrService.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629"),this.cler(),this.getAllAgency()},error:o=>{console.log(o),this._ToastrService.error("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0646\u0641\u064a\u0630!!")}})}handleFormUpdate(){let t=this.AgencyFormUpdata.value;console.log(t),this._AgencyService.UpdateAgency(t).subscribe({next:o=>{console.log(o),this.AgencyID=o.id,this.Agency=o,this._ToastrService.warning("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644"),this.getAllAgency(),this.cler()},error:o=>{console.log(o),this._ToastrService.error("!!\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0646\u0641\u064a\u0630")}})}cler(){this.AgencyFormAdd.get("AgencyName")?.setValue(""),this.AgencyFormAdd.get("UserId")?.setValue(""),this.AgencyFormUpdata.get("agencyName")?.setValue(""),this.AgencyFormUpdata.get("userId")?.setValue("")}static#e=this.\u0275fac=function(o){return new(o||u)(e.Y36(m.Y),e.Y36(a.qu),e.Y36(A.F0),e.Y36(y._W))};static#t=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-agency"]],standalone:!0,features:[e.jDz],decls:29,vars:4,consts:[[1,"h3","text-center"],[3,"formGroup","submit"],[1,"row"],[1,"col-6"],[1,"mb-3"],["for","UserId",1,"form-label"],["formControlName","UserId","type","text","id","UserId",1,"form-control"],["for","AgencyName",1,"form-label"],["formControlName","AgencyName","type","text","id","AgencyName","placeholder","\u0625\u0633\u0645 \u0627\u0644\u062c\u0647\u0629",1,"form-control"],[1,"w-100"],[1,"btn","btn-success",3,"disabled"],[1,"mt-5"],["for","nameAgencySerch",1,"form-label"],[1,"col-4"],["type","text","id","nameAgencySerch","placeholder","\u0625\u0633\u0645 \u0627\u0644\u062c\u0647\u0629",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"btn","btn-Agency"],[1,"fa-solid","fa-magnifying-glass"],["class","table table-hover",4,"ngIf"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["data-bs-toggle","modal",1,"btn","btn-primary","Modele",3,"click"],[1,"fa-solid","fa-pen-to-square"],["data-bs-toggle","modal",1,"btn","btn-warning","Modele"],[1,"fa-solid","fa-eye"],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","nameAgencyModel",1,"col-form-label"],["formControlName","agencyName","type","text","AgencyName","","id","nameAgencyModel",1,"form-control",3,"value","placeholder"],["value","12","formControlName","userId","type","text","id","nameAgencyModel","placeholder","10",1,"form-control"],["hidden","","formControlName","id","type","text","id","id",1,"form-control",3,"value","placeholder"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","readonly","",1,"form-control",3,"value"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(o,n){1&o&&(e.TgZ(0,"p",0),e._uU(1,"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062c\u0647\u0629"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("submit",function(){return n.handleFormAdd()}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"\u0625\u0633\u0645 \u0627\u0644\u062c\u0647\u0629"),e.qZA(),e._UZ(12,"input",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e._uU(15,"\u062d\u0641\u0638"),e.qZA()()(),e._UZ(16,"hr"),e.qZA(),e.TgZ(17,"div",11)(18,"div",4)(19,"label",12),e._uU(20,"\u0628\u062d\u062b"),e.qZA(),e.TgZ(21,"div",2)(22,"div",13)(23,"input",14),e.NdJ("ngModelChange",function(c){return n.term=c}),e.qZA()(),e.TgZ(24,"div",15)(25,"button",16),e._uU(26," \u0628\u062d\u062b "),e._UZ(27,"i",17),e.qZA()()()(),e.YNc(28,b,13,4,"table",18),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.AgencyFormAdd),e.xp6(12),e.Q6J("disabled",n.AgencyFormAdd.invalid),e.xp6(9),e.Q6J("ngModel",n.term),e.xp6(5),e.Q6J("ngIf",n.Agency.length>0))},dependencies:[i.ez,i.sg,i.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,g,a.u5,a.On,a.F]})}return u})()}}]);